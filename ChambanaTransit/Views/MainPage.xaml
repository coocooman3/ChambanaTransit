<Page
    x:Class="ChambanaTransit.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:data="using:ChambanaTransit.Models"
    mc:Ignorable="d">
    <Page.Resources>
        <DataTemplate x:DataType="data:Departure" x:Name="BusArrivalTimeListTemplate">
            <StackPanel Orientation="Horizontal">
                <Grid HorizontalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="700"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock  x:Name="BusRouteName"
                                Grid.Column="0"
                                Text="{x:Bind headsign}"
                                HorizontalAlignment="Left"/>
                    <TextBlock  x:Name="TimeRemaining"
                                Grid.Column="1"
                                Text="{x:Bind expected_mins}" 
                                Style="{ThemeResource BodyTextBlockStyle}"
                                HorizontalAlignment="Right"
                                Foreground="Green"/>
                </Grid>
            </StackPanel>
        </DataTemplate>
    </Page.Resources>
    <NavigationView x:Name="NavView">

        <NavigationView.MenuItems>
            <NavigationViewItem x:Uid="HomeNavItem" Content="Home" Tag="home">
                <NavigationViewItem.Icon>
                    <FontIcon Glyph="&#xE10F;"/>
                </NavigationViewItem.Icon>
            </NavigationViewItem>
            <NavigationViewItemSeparator/>
            <NavigationViewItemHeader Content="Main pages"/>
            <NavigationViewItem x:Uid="AppsNavItem" Icon="AllApps" Content="Apps" Tag="apps"/>
            <NavigationViewItem x:Uid="GamesNavItem" Icon="Video" Content="Games" Tag="games"/>
            <NavigationViewItem x:Uid="MusicNavItem" Icon="Audio" Content="Music" Tag="music"/>
        </NavigationView.MenuItems>

        <NavigationView.AutoSuggestBox>
            <AutoSuggestBox x:Name="ASB" QueryIcon="Find"/>
        </NavigationView.AutoSuggestBox>

        <NavigationView.HeaderTemplate>
            <DataTemplate>
                <Grid Margin="24,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Style="{StaticResource TitleTextBlockStyle}"
                           FontSize="28"
                           VerticalAlignment="Center"
                           Text="Welcome"/>
                    <CommandBar Grid.Column="1"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            DefaultLabelPosition="Right"
                            Background="{ThemeResource SystemControlBackgroundAltHighBrush}">
                        <AppBarButton Label="Refresh" Icon="Refresh"/>
                        <AppBarButton Label="Import" Icon="Import"/>
                    </CommandBar>
                </Grid>
            </DataTemplate>
        </NavigationView.HeaderTemplate>

        <NavigationView.PaneFooter>
            <HyperlinkButton x:Name="MoreInfoBtn"
                             Content="More info"
                             Margin="12,0"/>
        </NavigationView.PaneFooter>

        <Frame x:Name="ContentFrame" Margin="24"
               ItemInvoked="NavView_ItemInvoked"
               Loaded="NavView_Loaded"
               BackRequested="NavView_BackRequested">
            <ListView  Width="{Binding ElementName=page, Path=ActualWidth}" HorizontalAlignment="Stretch" ScrollViewer.HorizontalScrollMode="Enabled" Margin="0,0,0,0">
                <ListViewItem>
                    <StackPanel Orientation="Vertical"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Stretch">
                        <!--<TextBlock
                        x:Name="Stop1"
                        Text="Wright And Springfield"
                        FontSize="22"/>-->
                        <Button x:Name="Stop1"
                            Content="Wright And Springfield"
                            FontSize="22"
                            Click="Grainger_Button_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"/>
                        <ListView x:Name="GraingerBusList"
                              HorizontalAlignment="Stretch"
                              ItemTemplate="{StaticResource BusArrivalTimeListTemplate}"/>
                        <ProgressBar x:Name="ParsingGraingerProgressIndicator"
                                    IsIndeterminate="True"
                                    Visibility = "Collapsed"
                                    HorizontalAlignment="Left"
                                    VerticalAlignment="Top"
                                    Width="Auto"
                                    Height="Auto"/>
                    </StackPanel>
                </ListViewItem>

                <ListViewItem VerticalAlignment="Top"
                          HorizontalAlignment="Stretch">
                    <StackPanel Orientation="Vertical"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Stretch" Width="420">
                        <!--<TextBlock
                            x:Name="Stop3"
                            Text="Green And 6th"
                            FontSize="22"/>-->
                        <Button x:Name="Stop3"
                            Content="Green And 6th"
                            FontSize="22"
                            Click="Green_Button_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"/>
                        <ListView x:Name="GreenBusList"
                              HorizontalAlignment="Stretch"
                              ItemTemplate="{StaticResource BusArrivalTimeListTemplate}"/>
                        <ProgressBar x:Name="ParsingGreenProgressIndicator"
                                        IsIndeterminate="True"
                                        Visibility = "Collapsed"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Width="Auto"
                                        Height="Auto"/>
                    </StackPanel>
                </ListViewItem>

                <ListViewItem VerticalAlignment="Top"
                      HorizontalAlignment="Stretch">
                    <StackPanel Orientation="Vertical"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Stretch"
                            Width="Auto">
                        <!--<TextBlock
                            x:Name="Stop2"
                            Text="Parkland College"
                            FontSize="22"/>-->
                        <Button x:Name="Stop2"
                            Content="Parkland College"
                            FontSize="22"
                            Click="Parkland_Button_Click"
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Stretch"/>
                        <ListView x:Name="ParklandBusList"
                              HorizontalAlignment="Stretch"
                              ItemTemplate="{StaticResource BusArrivalTimeListTemplate}"/>
                        <ProgressBar x:Name="ParsingParklandProgressIndicator"
                                        IsIndeterminate="True"
                                        Visibility = "Collapsed"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Top"
                                        Width="Auto"
                                        Height="Auto"/>
                    </StackPanel>
                </ListViewItem>
            </ListView>
            <Frame.ContentTransitions>
                <TransitionCollection>
                    <NavigationThemeTransition/>
                    
                </TransitionCollection>
            </Frame.ContentTransitions>
        </Frame>

        
    </NavigationView>

</Page>
